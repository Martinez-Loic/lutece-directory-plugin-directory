-- Dumping data for table lutece.directory_action: 13 rows
DELETE FROM directory_action;
INSERT INTO directory_action (id_action, name_key, description_key, action_url, icon_url, action_permission, directory_state) VALUES
	(1, 'directory.action.modify.name', 'directory.action.modify.description', 'jsp/admin/plugins/directory/ModifyDirectory.jsp', 'icon-edit', 'MODIFY', 0),
	(2, 'directory.action.modify.name', 'directory.action.modify.description', 'jsp/admin/plugins/directory/ModifyDirectory.jsp', 'icon-edit', 'MODIFY', 1),
	(3, 'directory.action.manage_record.name', 'directory.action.manage_record.description', 'jsp/admin/plugins/directory/ManageDirectoryRecord.jsp', ' icon-folder-open', 'MANAGE_RECORD', 0),
	(4, 'directory.action.manage_record.name', 'directory.action.manage_record.description', 'jsp/admin/plugins/directory/ManageDirectoryRecord.jsp', ' icon-folder-open', 'MANAGE_RECORD', 1),
	(5, 'directory.action.import_record.name', 'directory.action.import_record.description', 'jsp/admin/plugins/directory/ImportDirectoryRecord.jsp', 'icon-upload', 'IMPORT_RECORD', 0),
	(6, 'directory.action.import_record.name', 'directory.action.import_record.description', 'jsp/admin/plugins/directory/ImportDirectoryRecord.jsp', 'icon-upload', 'IMPORT_RECORD', 1),
	(7, 'directory.action.delete_all_directory_record.name', 'directory.action.delete_all_directory_record.description', 'jsp/admin/plugins/directory/ConfirmRemoveAllDirectoryRecord.jsp', 'icon-ban-circle', 'DELETE_ALL_RECORD', 0),
	(8, 'directory.action.delete_all_directory_record.name', 'directory.action.delete_all_directory_record.description', 'jsp/admin/plugins/directory/ConfirmRemoveAllDirectoryRecord.jsp', 'icon-ban-circle', 'DELETE_ALL_RECORD', 1),
	(9, 'directory.action.disable.name', 'directory.action.disable.description', 'jsp/admin/plugins/directory/ConfirmDisableDirectory.jsp', 'icon-remove', 'CHANGE_STATE', 1),
	(10, 'directory.action.enable.name', 'directory.action.enable.description', 'jsp/admin/plugins/directory/DoEnableDirectory.jsp', 'icon-ok', 'CHANGE_STATE', 0),
	(11, 'directory.action.copy.name', 'directory.action.copy.description', 'jsp/admin/plugins/directory/DoCopyDirectory.jsp', 'icon-plus-sign', 'COPY', 0),
	(12, 'directory.action.copy.name', 'directory.action.copy.description', 'jsp/admin/plugins/directory/DoCopyDirectory.jsp', 'icon-plus-sign', 'COPY', 1),
	(13, 'directory.action.delete.name', 'directory.action.delete.description', 'jsp/admin/plugins/directory/ConfirmRemoveDirectory.jsp', 'icon-trash', 'DELETE', 0);

-- Dumping data for table lutece.directory_record_action: 12 rows
DELETE FROM directory_record_action;
INSERT INTO directory_record_action (id_action, name_key, description_key, action_url, icon_url, action_permission, directory_state) VALUES
	(1, 'directory.action.modify.name', 'directory.action.modify.description.record', 'jsp/admin/plugins/directory/ModifyDirectoryRecord.jsp', 'icon-edit', 'MODIFY_RECORD', 0),
	(2, 'directory.action.modify.name', 'directory.action.modify.description.record', 'jsp/admin/plugins/directory/ModifyDirectoryRecord.jsp', 'icon-edit', 'MODIFY_RECORD', 1),
	(3, 'directory.action.copy.name', 'directory.action.copy.description', 'jsp/admin/plugins/directory/DoCopyDirectoryRecord.jsp', 'icon-plus-sign', 'COPY_RECORD', 0),
	(4, 'directory.action.copy.name', 'directory.action.copy.description', 'jsp/admin/plugins/directory/DoCopyDirectoryRecord.jsp', 'icon-plus-sign', 'COPY_RECORD', 1),
	(5, 'directory.action.delete.name', 'directory.action.delete.description', 'jsp/admin/plugins/directory/ConfirmRemoveDirectoryRecord.jsp', 'icon-trash', 'DELETE_RECORD', 0),
	(6, 'directory.action.disable.name', 'directory.action.disable.description', 'jsp/admin/plugins/directory/ConfirmDisableDirectoryRecord.jsp', 'icon-remove', 'CHANGE_STATE_RECORD', 1),
	(7, 'directory.action.enable.name', 'directory.action.enable.description', 'jsp/admin/plugins/directory/DoEnableDirectoryRecord.jsp', 'icon-ok', 'CHANGE_STATE_RECORD', 0),
	(8, 'directory.action.delete.name', 'directory.action.delete.description', 'jsp/admin/plugins/directory/ConfirmRemoveDirectoryRecord.jsp', 'icon-trash', 'DELETE_RECORD', 1),
	(9, 'directory.action.history.name', 'directory.action.history.description', 'jsp/admin/plugins/directory/ResourceHistory.jsp', 'icon-list', 'HISTORY_RECORD', 0),
	(10, 'directory.action.history.name', 'directory.action.history.description', 'jsp/admin/plugins/directory/ResourceHistory.jsp', 'icon-list', 'HISTORY_RECORD', 1),
	(11, 'directory.actions.title.visualisation', 'directory.actions.title.visualisation', 'jsp/admin/plugins/directory/DoVisualisationRecord.jsp', 'icon-eye-open', 'VISUALISATION_RECORD', 0),
	(12, 'directory.actions.title.visualisation', 'directory.actions.title.visualisation', 'jsp/admin/plugins/directory/DoVisualisationRecord.jsp', 'icon-eye-open', 'VISUALISATION_RECORD', 1);
-- Dumping data for table lutece.directory_xsl_action: 2 rows
DELETE FROM directory_xsl_action;
INSERT INTO directory_xsl_action (id_action, name_key, description_key, action_url, icon_url, action_permission) VALUES	(2, 'directory.manage_directory_xsl.title_modify', 'directory.manage_directory_xsl.title_modify', 'jsp/admin/plugins/directory/ModifyDirectoryXsl.jsp', 'icon-edit', 'MODIFY');
INSERT INTO directory_xsl_action (id_action, name_key, description_key, action_url, icon_url, action_permission) VALUES	(1, 'directory.manage_directory_xsl.title_delete', 'directory.manage_directory_xsl.title_delete', 'jsp/admin/plugins/directory/ConfirmRemoveDirectoryXsl.jsp', 'icon-trash', 'DELETE');

DELETE FROM directory_physical_file WHERE id_physical_file = 2;
INSERT INTO directory_physical_file (id_physical_file, file_value) VALUES (2,'<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n	<xsl:output method=\"text\"/>\r\n\r\n	<xsl:template match=\"directory\">\r\n		<xsl:apply-templates select=\"list-entry/entry\"/>\r\n		<xsl:apply-templates select=\"list-entry/status\"/>\r\n		<xsl:if test=\"count(//partialexport)=0\" >\r\n			<xsl:text>&#10;</xsl:text>\r\n		</xsl:if>\r\n		<xsl:apply-templates select=\"list-record/record\"/>\r\n	</xsl:template>\r\n	\r\n	<xsl:template match=\"record\">\r\n		<xsl:apply-templates select=\"list-entry/entry/list-record-field\"/>\r\n		<xsl:if test=\"status = true()\">\r\n			<xsl:text>;\"</xsl:text>\r\n			<xsl:value-of disable-output-escaping=\"yes\" select=\"status\"/>\r\n			<xsl:text>\"</xsl:text>\r\n		</xsl:if>\r\n		<xsl:if test=\"count(//partialexport)=0\" >\r\n			<xsl:text>&#10;</xsl:text>\r\n		</xsl:if>\r\n	</xsl:template>\r\n	\r\n	<xsl:template match=\"list-record-field\">\r\n		<xsl:text>\"</xsl:text>\r\n		<xsl:apply-templates select=\"record-field\"/>\r\n		<xsl:text>\"</xsl:text>\r\n		<xsl:if test=\"position()!=last()\">\r\n			<xsl:text>;</xsl:text>\r\n		</xsl:if>\r\n	</xsl:template>\r\n	\r\n	<xsl:template match=\"entry\">\r\n		<xsl:text>\"</xsl:text>\r\n		<xsl:if test=\"@showxy = \'true\'\">\r\n			<xsl:value-of select=\"title\"/>\r\n			<xsl:text>_X</xsl:text>\r\n			<xsl:text>,</xsl:text>\r\n			<xsl:value-of select=\"title\"/>\r\n			<xsl:text>_Y,</xsl:text>\r\n			<xsl:value-of select=\"title\"/>\r\n			<xsl:text>_provider,</xsl:text>\r\n		</xsl:if>\r\n		<xsl:value-of select=\"title\"/>\r\n		<xsl:if test=\"@showxy = \'true\'\">\r\n			<xsl:text>_address</xsl:text>\r\n		</xsl:if>\r\n		<xsl:text>\"</xsl:text>\r\n		<xsl:if test=\"position()!=last()\">\r\n			<xsl:text>;</xsl:text>\r\n		</xsl:if>\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"status\">\r\n		<xsl:if test=\"@display=\'yes\'\">\r\n            <xsl:text>;\"status\";</xsl:text>\r\n		</xsl:if>\r\n	</xsl:template>\r\n	\r\n	<xsl:template match=\"record-field\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"../@geolocation = \'true\'\">\r\n				<xsl:if test=\"../../@showxy = \'true\'\">\r\n					<xsl:if test=\"@title = \'X\'\">\r\n						<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field-value\"/>\r\n						<xsl:text>,</xsl:text>\r\n					</xsl:if>\r\n					<xsl:if test=\"@title = \'Y\'\">\r\n						<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field-value\"/>\r\n						<xsl:text>,</xsl:text>\r\n					</xsl:if>\r\n					<xsl:if test=\"@title = \'provider\'\">\r\n						<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field-value\"/>\r\n						<xsl:text>,</xsl:text>\r\n					</xsl:if>\r\n				</xsl:if>\r\n				<xsl:if test=\"@title = \'address\'\">\r\n					<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field-value\"/>\r\n				</xsl:if>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n				<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field-value\"/>\r\n				<xsl:if test=\"position()!=last()\">\r\n					<xsl:text>,</xsl:text>\r\n				</xsl:if>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n	</xsl:template>\r\n	\r\n</xsl:stylesheet>\r\n');

DELETE FROM directory_physical_file WHERE id_physical_file = 4;
INSERT INTO directory_physical_file (id_physical_file, file_value) VALUES (4,'<?xml version=\"1.0\"?>\r\n<xsl:stylesheet version=\"1.0\"\r\n	xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">\r\n	\r\n	<xsl:param name=\"title-descriptive\" />\r\n	<xsl:param name=\"title-sort-asc\" />\r\n	<xsl:param name=\"title-sort-desc\" />\r\n	\r\n	<xsl:output method=\"html\" indent=\"yes\" />\r\n\r\n	<xsl:template match=\"directory\">\r\n	\r\n		<table class=\"table table-striped\" name=\"results_list\" id=\"results_list\">\r\n			<tr>\r\n				<th>&#160;</th>\r\n				<xsl:apply-templates select=\"list-entry/entry\" />\r\n				<xsl:apply-templates select=\"list-entry/status\" />\r\n			</tr>\r\n			\r\n			<xsl:apply-templates select=\"list-record/record\"/>\r\n		</table>\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"record\">\r\n		<tr>\r\n			<td class=\"link-directory-record\">\r\n				<a class=\"btn btn-primary btn-small\" href=\"jsp/site/Portal.jsp?page=directory&amp;id_directory_record={@id}&amp;view_directory_record=1\" title=\"{$title-descriptive}\">\r\n					<i class=\"icon-eye-open icon-white\"> </i> <img src=\"images/local/skin/buttons/b_search.png\"  alt=\"{$title-descriptive}\" />\r\n				</a>\r\n			</td>\r\n			<xsl:apply-templates select=\"list-entry/entry/list-record-field\" />\r\n			<td><xsl:value-of disable-output-escaping=\"yes\"	select=\"status\" /></td>\r\n		</tr>\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"list-record-field\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"position()=1\">\r\n				<td class=\"first-record-field\">\r\n					<xsl:choose>\r\n						<xsl:when test=\"@geolocation = \'true\'\">\r\n							<xsl:call-template name=\"field-geolocalisation\" />\r\n						</xsl:when>\r\n						<xsl:otherwise>\r\n							<xsl:apply-templates select=\"record-field\" />\r\n						</xsl:otherwise>\r\n					</xsl:choose>\r\n				</td>\r\n			</xsl:when>\r\n			<xsl:otherwise>  \r\n				<td>\r\n					<xsl:choose>\r\n						<xsl:when test=\"@geolocation = \'true\'\">\r\n							<xsl:call-template name=\"field-geolocalisation\" />\r\n						</xsl:when>\r\n						<xsl:otherwise>\r\n							<xsl:apply-templates select=\"record-field\" />\r\n						</xsl:otherwise>\r\n					</xsl:choose>\r\n				</td>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"entry\">\r\n		<xsl:variable name=\"id-directory\" select=\"../../@id\" />\r\n		<th>\r\n			<xsl:if test=\"@is-sortable = \'true\'\">\r\n				<a class=\"sort\" id=\"sort\" href=\"jsp/site/Portal.jsp?page=directory&amp;id_directory={$id-directory}&amp;sorted_attribute_name={@id}&amp;asc_sort=true#sort\" title=\"{$title-sort-asc}\" >\r\n					<i class=\"icon-chevron-up\"> </i>\r\n				</a>\r\n				<a class=\"sort\" href=\"jsp/site/Portal.jsp?page=directory&amp;id_directory={$id-directory}&amp;sorted_attribute_name={@id}&amp;asc_sort=false#sort\" title=\"{$title-sort-desc}\" >\r\n	    			<i class=\"icon-chevron-down\"> </i>\r\n	    		</a>\r\n	    	 </xsl:if>\r\n	    	 <span><xsl:value-of select=\"title\" /></span>\r\n		</th>\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"record-field\">	\r\n	\r\n		<xsl:variable name=\"type-recordfield\" select=\"@type-entry\" />\r\n		<xsl:variable name=\"show\" select=\"@isShownInList\" />\r\n		<xsl:choose>\r\n			<xsl:when test=\"$type-recordfield=\'10\'\">\r\n				<xsl:text>&#160;</xsl:text>\r\n			</xsl:when>\r\n			<xsl:when test=\"not(string(record-field-value)=\'\')\">					\r\n					<xsl:value-of disable-output-escaping=\"yes\"\r\n						select=\"record-field-value\" />\r\n			</xsl:when>		\r\n			<xsl:otherwise>\r\n				<xsl:text>&#160;</xsl:text>\r\n			</xsl:otherwise>\r\n		</xsl:choose>		\r\n		<xsl:choose>\r\n			<xsl:when test=\"$type-recordfield=\'10\' and $show=\'false\'\">				\r\n				<xsl:text>&#160;</xsl:text>\r\n			</xsl:when>\r\n			<xsl:otherwise>				\r\n				<xsl:apply-templates select=\"file\" />\r\n			</xsl:otherwise>\r\n		</xsl:choose>		\r\n		<br />\r\n	</xsl:template>\r\n\r\n	<xsl:template match=\"file\">\r\n		<xsl:variable name=\"id\" select=\"@id\" />\r\n		<xsl:variable name=\"type\" select=\"@type-entry\" />\r\n		<xsl:variable name=\"height\" select=\"./height\" />\r\n		<xsl:variable name=\"width\" select=\"./width\" />\r\n		<xsl:if test=\"child::node()\">\r\n			<xsl:choose>				\r\n				<xsl:when test=\"$type=\'10\'\">\r\n					<xsl:choose>\r\n						<xsl:when test=\"$height!=\'-1\' and $width!=\'-1\' \">\r\n							<img src=\"image?resource_type=directory_entry_img&amp;id={$id}\" height=\"{$height}\" width=\"{$width}\"  />\r\n						</xsl:when>\r\n						<xsl:when test=\"$height=\'-1\' and $width!=\'-1\'\">\r\n							<img src=\"image?resource_type=directory_entry_img&amp;id={$id}\" width=\"{$width}\"  />\r\n						</xsl:when>\r\n						<xsl:when test=\"$height!=\'-1\' and $width=\'-1\'\">\r\n							<img src=\"image?resource_type=directory_entry_img&amp;id={$id}\" height=\"{$height}\" />\r\n						</xsl:when>\r\n						<xsl:otherwise>\r\n							<img src=\"image?resource_type=directory_entry_img&amp;id={$id}\"/>\r\n						</xsl:otherwise>\r\n					</xsl:choose>\r\n				</xsl:when>\r\n				<xsl:otherwise>\r\n					\r\n					<a  href=\"jsp/site/plugins/directory/DoDownloadFile.jsp?id_file={$id}\">\r\n					<xsl:value-of disable-output-escaping=\"yes\"\r\n						select=\"title\" />( <xsl:value-of disable-output-escaping=\"yes\"\r\n						select=\"size\" /> O)\r\n					</a>\r\n				</xsl:otherwise>\r\n			</xsl:choose>\r\n		</xsl:if>\r\n		<br />\r\n	</xsl:template>\r\n	<xsl:template match=\"status\">\r\n		<xsl:choose>\r\n			<xsl:when test=\"@display=\'yes\'\">\r\n				<th>Statut</th>\r\n			</xsl:when>\r\n			<xsl:otherwise>\r\n				<th>&#160;</th>\r\n			</xsl:otherwise>\r\n		</xsl:choose>\r\n		\r\n	</xsl:template>\r\n	\r\n	<xsl:template name=\"field-geolocalisation\">\r\n		<input type=\"hidden\" name=\"record_id\">\r\n			<xsl:attribute name=\"value\"><xsl:value-of disable-output-escaping=\"yes\" select=\"../../../@id\"/></xsl:attribute>\r\n		</input>\r\n		<xsl:if test=\"../../../status/@icon &gt; 0\">\r\n			<input type=\"hidden\" name=\"state_icon\">\r\n				<xsl:attribute name=\"value\">image?resource_type=workflow_icon_img&amp;id=<xsl:value-of disable-output-escaping=\"yes\" select=\"../../../status/@icon\"/></xsl:attribute> \r\n			</input>\r\n		</xsl:if>\r\n		<input type=\"hidden\" name=\"geolocation\">\r\n			<xsl:attribute name=\"value\"><xsl:value-of disable-output-escaping=\"yes\" select=\"../@id\" /></xsl:attribute>\r\n		</input>\r\n		\r\n		<input type=\"hidden\" name=\"title\">\r\n			<xsl:attribute name=\"value\"><xsl:value-of disable-output-escaping=\"yes\" select=\"../../entry[position()=1]/list-record-field/record-field[position()=1]/record-field-value\" /></xsl:attribute>\r\n		</input>\r\n		\r\n		<input type=\"hidden\">\r\n			<xsl:attribute name=\"name\">x</xsl:attribute>\r\n			<xsl:attribute name=\"id\">x</xsl:attribute>\r\n			<xsl:attribute name=\"value\"><xsl:value-of disable-output-escaping=\"yes\" select=\"record-field[@title=\'X\']\" /></xsl:attribute>\r\n		</input>\r\n		\r\n		<input type=\"hidden\">\r\n			<xsl:attribute name=\"name\">y</xsl:attribute>\r\n			<xsl:attribute name=\"id\">y</xsl:attribute>\r\n			<xsl:attribute name=\"value\"><xsl:value-of disable-output-escaping=\"yes\" select=\"record-field[@title=\'Y\']\" /></xsl:attribute>\r\n		</input>\r\n		<xsl:value-of disable-output-escaping=\"yes\" select=\"record-field[@title=\'address\']\" />\r\n	</xsl:template>\r\n</xsl:stylesheet>\r\n\r\n\r\n');
