INSERT INTO directory_entry_type(id_type,title_key,is_group,is_comment,class_name) values(11,'directory.entry_type_numbering.title',FALSE,FALSE,'fr.paris.lutece.plugins.directory.business.EntryTypeNumbering');
ALTER TABLE directory_entry ADD COLUMN is_shown_in_history SMALLINT DEFAULT 0;
ALTER TABLE directory_entry ADD COLUMN id_entry_associate INT DEFAULT NULL;

/*==============================================================*/
/*Table structure for table directory_xsl_action				*/
/*==============================================================*/
CREATE TABLE directory_xsl_action (
  id_action INT DEFAULT 0 NOT NULL,
  name_key VARCHAR(100) DEFAULT NULL ,
  description_key VARCHAR(100) DEFAULT NULL  ,
  action_url VARCHAR(255) DEFAULT NULL ,
  icon_url VARCHAR(255) DEFAULT NULL,
  action_permission VARCHAR(255) DEFAULT NULL,
  PRIMARY KEY (id_action)
);

/*==============================================================*/
/*	Init  table directory_xsl_action							*/
/*==============================================================*/
INSERT INTO directory_xsl_action( id_action,name_key,description_key,action_url,icon_url,action_permission) values(2,'directory.manage_directory_xsl.title_modify','directory.manage_directory_xsl.title_modify','jsp/admin/plugins/directory/ModifyDirectoryXsl.jsp','images/admin/skin/plugins/directory/actions/modify.png','MODIFY');
INSERT INTO directory_xsl_action( id_action,name_key,description_key,action_url,icon_url,action_permission) values(1,'directory.manage_directory_xsl.title_delete','directory.manage_directory_xsl.title_delete','jsp/admin/plugins/directory/ConfirmRemoveDirectoryXsl.jsp','images/admin/skin/plugins/directory/actions/delete.png','DELETE');

/*==============================================================*/
/*	Init  table directory_entry_type							*/
/*==============================================================*/
INSERT INTO directory_entry_type (id_type,title_key,is_group,is_comment,class_name) VALUES  (12,'directory.entry_type_directory.title',0,0,'fr.paris.lutece.plugins.directory.business.EntryTypeDirectory');

ALTER TABLE directory_record ADD COLUMN x DOUBLE DEFAULT 0;
ALTER TABLE directory_record ADD COLUMN y DOUBLE DEFAULT 0;
ALTER TABLE directory_directory ADD COLUMN id_result_is_localized SMALLINT DEFAULT 0;

/*==============================================================*/
/*	Update XSL export CSV           							*/
/*==============================================================*/
UPDATE directory_physical_file SET file_value = 0x3C3F786D6C2076657273696F6E3D22312E30223F3E0A3C78736C3A7374796C6573686565742076657273696F6E3D22312E302220786D6C6E733A78736C3D22687474703A2F2F7777772E77332E6F72672F313939392F58534C2F5472616E73666F726D223E0A093C78736C3A6F7574707574206D6574686F643D2274657874222F3E0A0A093C78736C3A74656D706C617465206D617463683D226469726563746F7279223E0A09093C78736C3A6170706C792D74656D706C617465732073656C6563743D226C6973742D656E7472792F656E747279222F3E0A09093C78736C3A6170706C792D74656D706C617465732073656C6563743D226C6973742D656E7472792F737461747573222F3E0A09093C78736C3A696620746573743D22636F756E74282F2F7061727469616C6578706F7274293D3022203E0A0909093C78736C3A746578743E262331303B3C2F78736C3A746578743E0A09093C2F78736C3A69663E0A09093C78736C3A6170706C792D74656D706C617465732073656C6563743D226C6973742D7265636F72642F7265636F7264222F3E0A093C2F78736C3A74656D706C6174653E0A090A093C78736C3A74656D706C617465206D617463683D227265636F7264223E0A09093C78736C3A6170706C792D74656D706C617465732073656C6563743D226C6973742D656E7472792F656E7472792F6C6973742D7265636F72642D6669656C64222F3E0A09093C78736C3A696620746573743D22737461747573203D20747275652829223E0A0909093C78736C3A746578743E3B223C2F78736C3A746578743E0A0909093C78736C3A76616C75652D6F662064697361626C652D6F75747075742D6573636170696E673D22796573222073656C6563743D22737461747573222F3E0A0909093C78736C3A746578743E223C2F78736C3A746578743E0A09093C2F78736C3A69663E0A09093C78736C3A696620746573743D22636F756E74282F2F7061727469616C6578706F7274293D3022203E0A0909093C78736C3A746578743E262331303B3C2F78736C3A746578743E0A09093C2F78736C3A69663E09090A093C2F78736C3A74656D706C6174653E0A090A093C78736C3A74656D706C617465206D617463683D226C6973742D7265636F72642D6669656C64223E0A09093C78736C3A746578743E223C2F78736C3A746578743E0A09093C78736C3A6170706C792D74656D706C617465732073656C6563743D227265636F72642D6669656C64222F3E0A09093C78736C3A746578743E223C2F78736C3A746578743E0A09093C78736C3A696620746573743D22706F736974696F6E2829213D6C6173742829223E0A0909093C78736C3A746578743E3B3C2F78736C3A746578743E0A09093C2F78736C3A69663E0A093C2F78736C3A74656D706C6174653E0A090A093C78736C3A74656D706C617465206D617463683D22656E747279223E0A09093C78736C3A746578743E223C2F78736C3A746578743E0A09093C78736C3A76616C75652D6F662073656C6563743D227469746C65222F3E0A09093C78736C3A746578743E223C2F78736C3A746578743E0A09093C78736C3A696620746573743D22706F736974696F6E2829213D6C6173742829223E0A0909093C78736C3A746578743E3B3C2F78736C3A746578743E0A09093C2F78736C3A69663E0A093C2F78736C3A74656D706C6174653E0A0A093C78736C3A74656D706C617465206D617463683D22737461747573223E0A09093C78736C3A696620746573743D2240646973706C61793D2779657327223E0A2020202020202020202020203C78736C3A746578743E3B22737461747573223B3C2F78736C3A746578743E0A09093C2F78736C3A69663E0A093C2F78736C3A74656D706C6174653E0A090A093C78736C3A74656D706C617465206D617463683D227265636F72642D6669656C64223E0A09093C78736C3A76616C75652D6F662064697361626C652D6F75747075742D6573636170696E673D22796573222073656C6563743D227265636F72642D6669656C642D76616C7565222F3E0A09093C78736C3A696620746573743D22706F736974696F6E2829213D6C6173742829223E0A0909093C78736C3A746578743E2C3C2F78736C3A746578743E0A09093C2F78736C3A69663E0A093C2F78736C3A74656D706C6174653E0A090A3C2F78736C3A7374796C6573686565743E0A WHERE id_physical_file = 2;