<#include "include_records_list_header.html">
<div class="row-fluid">
	<div class="span12">
		<form class="form-horizontal" action="jsp/admin/plugins/directory/ManageDirectoryRecord.jsp" method="post" id="searchForm" >
		<input type="hidden" name="id_directory" value="${directory.idDirectory}" />
		<input type="hidden" name="session" value="session" />
		<input name="page" value="directory" type="hidden" />
		<input name="search_action" value="search_action" type="hidden" />
		<fieldset>
			<legend>
				${directory.title}
				<#include "include_directory_actions.html">
			</legend>
			<#include "include_records_list_search.html">
			<#include "include_records_list.html">
		</fieldset>
		</form>
	</div>
</div>
<script src="js/jquery/plugins/ui/jquery-ui-1.9.2.custom.min.js"></script>
<script src="js/jquery/plugins/ui/ui.datepicker-fr.js"></script>
<script>
 $.fn.clearForm = function() 
	{
		return this.each(function() 
		{
			var type = this.type, tag = this.tagName.toLowerCase();
			if (tag == 'form')
				return $(':input',this).clearForm();

			if (type == 'text' || type == 'password' || tag == 'textarea')
				  this.value = '';
			else if (type == 'checkbox' || type == 'radio')
				this.checked = false;
			else if (tag == 'select')
				this.selectedIndex = 0;
	  });
	};
	
	$(document).ready(function () {
		$("#reset").click(function() { 
		
			$("#searchForm").clearForm();
		});
		/*$("#myModalSearch").addClass("modal fade");*/
		
		$("#advanced-search").toggle();
		$("#toggleAdvSearch").click(function() { 
			$("#advanced-search").toggle();
			$(this).toggleClass("icon-chevron-down");
			$(this).toggleClass("icon-chevron-up");
		});
		

		// For multi selection
		$( 'input[type="checkbox"]#select-ids' ).click( function(  ) {
			if ( $( this ).attr( 'checked' ) ) {
				$( 'input[type="checkbox"].selected-id' ).attr( 'checked', true );
			} else {
				$( 'input[type="checkbox"].selected-id' ).attr( 'checked', false );
			}
		} );
	
	 	 $( ".datepicker-element" ).datepicker();
	});
		
	$('#searchForm').keypress(function(e) {
	if(e.keyCode == 13) {
		// add input hidden to add search into the request
		$('#searchForm').append('<input type="hidden" name="search" value="Rechercher" />');
		$("#searchForm").submit();
		return false;
		}
	});
	
</script>