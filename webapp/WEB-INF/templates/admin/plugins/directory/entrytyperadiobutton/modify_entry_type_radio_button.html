<#include "/admin/plugins/directory/commons.html" />
<form class="form" action="jsp/admin/plugins/directory/DoModifyEntry.jsp#list" method="post" name="" id=""  >
<input name="id_entry" value="${entry.idEntry}" type="hidden" />
	<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 form-horizontal">
	<fieldset>
		<legend>
			#i18n{directory.modify_entry.title_field} '${entry.directory.title}' 
			<span class="label label-info" title="#i18n{directory.create_entry.label_type}">#i18n{${entry.entryType.titleI18nKey}}</span>
			<a class="btn btn-primary btn-sm pull-right" href="jsp/admin/plugins/directory/ModifyDirectory.jsp?id_directory=${entry.directory.idDirectory}#list" title="#i18n{directory.manage_directory.button_back} #i18n{directory.modify_directory.manage_entry.title} '${entry.directory.title}'">
				<i class="glyphicon glyphicon-chevron-left"></i>
			</a>
		</legend>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="title">#i18n{directory.create_entry.label_title} * : </label>
			<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				<input type="text" name="title" id="title" class="form-control input-sm" value="${entry.title}" maxlength="255" />
				<p class="help-block">#i18n{directory.create_entry.label_title_comment}</p>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="width">#i18n{directory.create_entry.label_presentation}</label>
				<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				 <select id="field_in_line" name="field_in_line" class="form-control input-sm">
					<option value="1" <#if entry.fieldInLine >selected="selected" </#if> >#i18n{directory.create_entry.select_presentation_in_line}</option>
					<option value="0" <#if !entry.fieldInLine >selected="selected" </#if>>#i18n{directory.create_entry.select_presentation_not_in_line}</option>
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="mandatory">#i18n{directory.create_entry.label_mandatory}</label>
			 <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				<div class="checkbox">
					<label for="mandatory">
						<input name="mandatory" value="1" type="checkbox" <#if entry.mandatory>checked="checked"</#if> />
					</label>
				</div>
			</div>
		</div>
		<#if is_authentification_enabled&&(!is_association_entry_role || entry.roleAssociated)>
	   	<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="role_associated">#i18n{directory.create_entry.label_role_associated}</label>
			 <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				<div class="checkbox">
					<label>
						<input name="role_associated" value="1" type="checkbox"  <#if entry.roleAssociated>checked="checked"</#if>	/>
					</label>
				</div>
   		   		<p class="help-block"> #i18n{directory.create_entry.label_role_associated_comment}</p>
			</div>
		</div>	
    </#if>
	<#if !is_association_entry_workgroup|| entry.workgroupAssociated> 		
		<div class="form-group">
			<label class="control-label col-xs-12 col-sm-12 col-md-3 col-lg-3" for="workgroup_associated">#i18n{directory.create_entry.label_workgroup_associated}</label>
			 <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
				<div class="checkbox">
					<label>
						<input name="workgroup_associated" value="1" type="checkbox" <#if entry.workgroupAssociated>checked="checked"</#if>/>
					</label>
				</div>
				<p class="help-block">#i18n{directory.create_entry.label_workgroup_associated_comment}</p>
			</div>
		</div>		
	</#if>
		<div class="form-group">
			<div class="col-xs-12 col-sm-12 col-md-offset-3 col-md-9 col-lg-offset-3 col-lg-9">
				<button class="btn btn-primary btn-sm" type="submit" name="save" >
					<i class="glyphicon glyphicon-ok"></i>
					<span class="hidden-xs">#i18n{directory.modify_entry.button_save}</span>
				</button>
				<button class="btn btn-primary btn-sm" type="submit" name="apply" >
					<i class="glyphicon glyphicon-ok-circle" ></i>
					<span class="hidden-xs">#i18n{directory.modify_entry.button_apply}</span>
				</button>
				<a class="btn btn-default btn-sm" href="jsp/admin/plugins/directory/ModifyDirectory.jsp?id_directory=${entry.directory.idDirectory}">
					<i class="glyphicon glyphicon-remove-circle" ></i>
					<span class="hidden-xs">#i18n{directory.modify_entry.button_cancel}</span>
				</a>
			</div>
		</div>
	</fieldset>
	<fieldset>
		<legend>#i18n{directory.create_entry.manage_field.title}
			<span class="pull-right">
				<a class="btn btn-primary btn-sm" href="jsp/admin/plugins/directory/CreateField.jsp">
					<i class="glyphicon glyphicon-plus"></i>
					<span class="hidden-xs hidden-sm hidden-md">&nbsp;#i18n{directory.create_entry.manage_field.button_insert}</span>
				</a>
				<a class="btn btn-primary btn-sm" href="jsp/admin/plugins/directory/ImportField.jsp?id_directory=${idDirectory}&amp;id_entry=${entry.idEntry}">
					<i class="glyphicon glyphicon-upload"></i>
					<span class="hidden-xs hidden-sm hidden-md">&nbsp;#i18n{directory.import_field.title}</span>
				</a>
			</span>
		</legend>
		<@paginationAdmin paginator=paginator combo=1/>
	    <table class="table table-striped table-condensed">
          <tr>
			<th>#i18n{directory.create_entry.manage_field.row_title}</th>
            <th>#i18n{directory.create_entry.manage_field.row_value}</th>
            <th>#i18n{directory.create_entry.manage_field.row_default_value}</th>
			<th>#i18n{directory.create_entry.manage_field.row_key}</th>
			<th>#i18n{directory.create_entry.manage_field.row_actions}</th>
          </tr>
          <#assign cpt=0>
           <#list list as field>
          	<#assign cpt=cpt+1>
          	<tr>
          		<td>${field.title}</td>
	            <td>${field.value}</td>
	            <td>
	       			<#if field.defaultValue>
	       				<span class="label label-success"><i class="glyphicon glyphicon-ok"></i></span>  
	       			</#if> 	
	            </td >
	            <td>${field.idField}</td>
	            <td>
					<a class="btn btn-primary btn-sm" href="jsp/admin/plugins/directory/ModifyField.jsp?id_field=${field.idField}"  title="null" >
						<i class="glyphicon glyphicon-edit"></i>
					</a>
					<#if cpt!=1>
	              	<a class="btn btn-primary btn-sm" href="jsp/admin/plugins/directory/DoMoveUpField.jsp?id_field=${field.idField}#list"  title="#i18n{directory.create_entry.manage_field.title_move_up}" >
						<i class="glyphicon glyphicon-chevron-up"></i>
					</a>
					</#if> 
	               <#if field_has_next>
	                <a class="btn btn-primary btn-sm" href="jsp/admin/plugins/directory/DoMoveDownField.jsp?id_field=${field.idField}#list"  title="#i18n{directory.create_entry.manage_field.title_move_down}" >
						<i class="glyphicon glyphicon-chevron-down"></i>
					</a>
					</#if>
	                <a class="btn btn-danger btn-sm" href="jsp/admin/plugins/directory/ConfirmRemoveField.jsp?id_field=${field.idField}#list"  title="#i18n{directory.create_entry.manage_field.title_delete}" >
						<i class="glyphicon glyphicon-trash"></i>
					</a>
					</td>
	          </tr>
			</#list> 
        </table>
        
        </fieldset>
	</div>
	<div id="advanced_settings" class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
	<fieldset>
		<legend>#i18n{directory.create_directory.label_advancedsettings}</legend>
		
		<div class="form-group">
			<label for="help_message"> #i18n{directory.create_entry.label_help_message} </label>
			<textarea  name="help_message" id="help_message" class="form-control input-sm" rows="2">${entry.helpMessage}</textarea>
			<p class="help-block">#i18n{directory.create_entry.label_help_message_comment}</p>
		</div>
		<div class="form-group">
			<label for="help_message_search"> #i18n{directory.create_entry.label_help_message_search} </label>
			<textarea  name="help_message_search" id="help_message_search" class="form-control input-sm" rows="2">${entry.helpMessageSearch}</textarea>
			<p class="help-block">#i18n{directory.create_entry.label_help_message_search_comment}</p>
		</div>
		<div class="form-group">
			<label for="comment"> #i18n{directory.create_entry.label_comment}</label>
			<textarea name="comment" class="form-control input-sm" rows="2">${entry.comment}</textarea>
		</div>
		<div class="checkbox">
			<label for="indexed">
				<input name="indexed" value="1" type="checkbox" <#if entry.indexed>checked="checked"</#if> >
				 #i18n{directory.create_entry.label_indexed}
			</label>
		</div>
		<div class="checkbox">
			<label for="shown_in_advanced_search">
				<input name="shown_in_advanced_search" value="1" type="checkbox" <#if entry.shownInAdvancedSearch>checked="checked"</#if>>
				 #i18n{directory.create_entry.label_shown_in_advanced_search}
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_advanced_search_comment}</p>
			</label>
		</div>
		<div class="checkbox">
			<label for="indexed_as_title">
				<input name="indexed_as_title" value="1" type="checkbox" <#if entry.indexedAsTitle>checked="checked"</#if>>
				 #i18n{directory.create_entry.label_indexed_as_title}
			</label>
		</div>
        <div class="checkbox">
			<label for="indexed_as_summary">
				<input name="indexed_as_summary" value="1" type="checkbox" <#if entry.indexedAsSummary>checked="checked"</#if>>
				 #i18n{directory.create_entry.label_indexed_as_summary}
			</label>
		</div>
        <div class="checkbox">
			<label for="shown_in_result_list">
				<input name="shown_in_result_list" value="1" type="checkbox" <#if entry.shownInResultList>checked="checked"</#if>>
				#i18n{directory.create_entry.label_shown_in_result_list}
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_result_list_comment}</p>
			</label>
		</div>
		<div class="checkbox">
			<label for="shown_in_result_record">
				<input name="shown_in_result_record" value="1" type="checkbox" <#if entry.shownInResultRecord>checked="checked"</#if>>
 				#i18n{directory.create_entry.label_shown_in_result_record}
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_result_record_comment}</p>
			</label>
		</div>
		<div class="checkbox">
			<label for="shown_in_history">
				<input name="shown_in_history" value="1" type="checkbox" <#if entry.shownInHistory>checked="checked"</#if>>
				#i18n{directory.create_entry.label_shown_in_history} :
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_history_comment}</p>
			</label>
		</div>
		<div class="checkbox">
			<label for="shown_in_export">
				<input name="shown_in_export" value="1" type="checkbox" <#if entry.shownInExport>checked="checked"</#if>>
				#i18n{directory.create_entry.label_shown_in_export}
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_export_comment}</p>
			</label>
		</div>
		<div class="checkbox">
			<label for="shown_in_completeness">
	    		<input name="shown_in_completeness" value="1" type="checkbox" <#if entry.shownInCompleteness>checked="checked"</#if>>
				#i18n{directory.create_entry.label_shown_in_completeness} :
				<p class="help-block">#i18n{directory.create_entry.label_shown_in_completeness_comment}</p>
			</label>
		</div>
	</div>
 </fieldset>
</form>
</div>

		

