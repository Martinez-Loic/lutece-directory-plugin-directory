<#include "/admin/plugins/directory/commons.html" />
<div class="row">
	<div class="col-xs-12 col-sm-12 col-sm-12" id="main">
		<div class="box box-primary">
			<div class="box-header">
				<h3 class="box-title">#i18n{directory.create_entry.title_field} : '${entry.directory.title}' </h3>
				<div class="box-tools">
					<span class="label label-info pull-right" title="#i18n{directory.create_entry.label_type}">#i18n{${entry.entryType.titleI18nKey}}</span>
				</div>
			</div>
			<div class="box-body">
				<form class="form-horizontal" action="jsp/admin/plugins/directory/DoModifyEntry.jsp#list" method="post" name="" id="">
				<input name="id_entry" value="${entry.idEntry}" type="hidden">
				<div class="row">
					<div class="col-xs-12 col-sm-7">
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3" for="title">#i18n{directory.create_entry.label_title} *</label>
							<div class="col-xs-12 col-sm-9">
								<input type="text" name="title" id="title" value="${entry.title}" maxlength="255" class="form-control">
								<span class="help-text">#i18n{directory.create_entry.label_title_comment}</span>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3" for=""></label>
							<div class="col-xs-12 col-sm-9">
								<div class="checkbox">
									<label for="mandatory">
										<input name="mandatory" id="mandatory"  value="1" type="checkbox" ${getChecked('mandatory',list_param_default_values)}>#i18n{directory.create_entry.label_mandatory}
									</label>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3" for="value">#i18n{directory.create_entry.label_file_types}</label>
							<div class="col-xs-12 col-sm-9">
								<input type="text" name="value" id="value" size="80" value="${fieldOption.value}">
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3" for="file_max_size">#i18n{directory.create_entry.label_file_max_size} *</label>
							<div class="col-xs-12 col-sm-2">
								<input type="text" value="${getFileMaxSize(entry)}" class="form-control" id="file_max_size" name="file_max_size">
							</div>
						</div>
						<div class="form-group">
							 <label class="control-label col-xs-12 col-sm-3" for="max_files">#i18n{directory.create_entry.label_max_files} * </label>
							<div class="col-xs-12 col-sm-2">
								<input type="text" maxlength="2" value="${getMaxFiles(entry)}" class="form-control" name="max_files">
							</div>
						</div>
						<div class="form-group">
							 <label class="control-label col-xs-12 col-sm-3" for="ws_rest_url">#i18n{directory.create_entry.label_ws_rest_url} * :</label>
							<div class="col-xs-12 col-sm-9">
									<input name="ws_rest_url" type="text" class="form-control" value="${getFieldValue(entry, 'ws_rest_url')}" maxlength="255" >
									<span class="help-text">#i18n{directory.create_entry.label_ws_rest_url_comment}</span>
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-xs-12 col-sm-3" for="blobstore">#i18n{directory.create_entry.label_blobstore} * </label>
								<div class="col-xs-12 col-sm-9">
									<input name="blobstore" type="text" class="form-control" value="${getFieldValue(entry, 'blobstore')}" maxlength="255" />
									<span class="help-text">#i18n{directory.create_entry.label_blobstore_comment}</span>
								</div>
							</div>
						<div class="form-group">
 						 <label class="control-label col-xs-12 col-sm-3" for="width">#i18n{directory.create_entry.label_width} * </label>
 	 				    <div class="col-xs-12 col-sm-2">
 	 								<input type="text" name="width" id="width" class="form-control" value="${getName('width',list_param_default_values)}">
 	 						</div>
 	 					</div>
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3" for="help_message"> #i18n{directory.create_entry.label_help_message}</label>
							<div class="col-xs-12 col-sm-9">
								<textarea  name="help_message" id="help_message" class="form-control" rows="2">${entry.helpMessage!}</textarea>
								<span class="help-text">#i18n{directory.create_entry.label_help_message_comment}</span>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-xs-12 col-sm-3"  for="help_message_search"> #i18n{directory.create_entry.label_help_message_search} </label>
							<div class="col-xs-12 col-sm-9">
								<textarea  name="help_message_search" id="help_message_search" class="form-control" rows="2">${entry.helpMessageSearch!}</textarea>
								<span class="help-text">#i18n{directory.create_entry.label_help_message_search_comment}</span>
							</div>
						</div>
						<div class="form-group">
							<div class="col-xs-12 col-sm-offset-3 col-sm-9">
								<button class="btn btn-primary  btn-flat" type="submit" name="save">
									<i class="fa fa-check" ></i>
									<span class="hidden-xs" >#i18n{directory.create_entry.button_save}</span>
								</button>
								<button class="btn btn-primary btn-sm" type="submit" name="apply">
									<i class="fa fa-check-circle"></i> #i18n{directory.modify_entry.button_apply}
								</button>
								<a class="btn btn-default btn-flat" href="jsp/admin/plugins/directory/ModifyDirectory.jsp?id_directory=${entry.directory.idDirectory}">
									<i class="fa fa-remove" ></i>
									<span class="hidden-xs" >#i18n{directory.create_entry.button_cancel}</span>
								</a>
							</div>
						</div>
				</div>
				<div class="col-xs-12 col-sm-5">
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label class="checkbox" for="indexed" title="#i18n{directory.create_entry.label_indexed_comment}">
									<input name="indexed" id="indexed" value="1" type="checkbox" <#if entry.indexed>checked="checked"</#if>> #i18n{directory.create_entry.label_indexed}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="shown_in_advanced_search" title="#i18n{directory.create_entry.label_shown_in_advanced_search_comment}">
									<input name="shown_in_advanced_search" id="shown_in_advanced_search"  value="1" type="checkbox" <#if entry.shownInAdvancedSearch>checked="checked"</#if>>
									#i18n{directory.create_entry.label_shown_in_advanced_search}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="indexed_as_title">
									<input name="indexed_as_title" id="indexed_as_title" value="1" type="checkbox" <#if entry.indexedAsTitle>checked="checked"</#if>> #i18n{directory.create_entry.label_indexed_as_title}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="indexed_as_summary">
									<input name="indexed_as_summary" id="indexed_as_summary" value="1" type="checkbox" <#if entry.indexedAsSummary>checked="checked"</#if>> #i18n{directory.create_entry.label_indexed_as_summary}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="shown_in_result_list" title="#i18n{directory.create_entry.label_shown_in_result_list_comment}">
									<input name="shown_in_result_list" id="shown_in_result_list" value="1" type="checkbox" <#if entry.shownInResultList>checked="checked"</#if>> #i18n{directory.create_entry.label_shown_in_result_list}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="shown_in_result_record" title="#i18n{directory.create_entry.label_shown_in_result_record_comment}">
									<input name="shown_in_result_record" id="shown_in_result_record" value="1" type="checkbox" <#if entry.shownInResultRecord>checked="checked"</#if>> #i18n{directory.create_entry.label_shown_in_result_record}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label class="" for="shown_in_history" title="#i18n{directory.create_entry.label_shown_in_history_comment}">
									<input name="shown_in_history" id="shown_in_history" value="1" type="checkbox" <#if entry.shownInHistory>checked="checked"</#if>> #i18n{directory.create_entry.label_shown_in_history}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="shown_in_export" title="#i18n{directory.create_entry.label_shown_in_export_comment}">
									<input name="shown_in_export" id="shown_in_export"value="1" type="checkbox" <#if entry.shownInExport>checked="checked"</#if>> #i18n{directory.create_entry.label_shown_in_export}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2" for=""></label>
						<div class="col-xs-12 col-sm-10">
							<div class="checkbox">
								<label for="shown_in_completeness" title="#i18n{directory.create_entry.label_shown_in_completeness_comment}">
									<input name="shown_in_completeness" id="shown_in_completeness" value="1" type="checkbox" <#if entry.shownInCompleteness>checked="checked"</#if>>	#i18n{directory.create_entry.label_shown_in_completeness}
								</label>
							</div>
						</div>
					</div>
					<div class="form-group">
						<label class="control-label col-xs-12 col-sm-2"  for="comment"> #i18n{directory.create_entry.label_comment}</label>
						<div class="col-xs-12 col-sm-9">
							<textarea name="comment" class="form-control" rows="2">${entry.comment}</textarea>
						</div>
					</div>
				</div>
				</div>
			</form>
			</div>
		</div>
	</div>
</div>
<#if regular_expression_list??>
	<div class="row">
		<div class="col-xs-12 col-sm-12 col-sm-12" id="main">
			<div class="box box-primary">
				<div class="box-header">
					<h3 class="box-title">#i18n{directory.create_entry.manage_regular_expression.title}</h3>
					<div class="box-tools">
						<form class="form-inline"  method="post"  action="jsp/admin/plugins/directory/DoInsertVerification.jsp#list">
							<input name="id_field" value="${id_field!}" type="hidden">
							<label for="id_expression">#i18n{directory.create_entry.manage_regular_expression.label_insert}</label>
							<div class="input-group">
								<@comboWithParams name="id_expression" default_value="-1" additionalParameters=" class=\"form-control input-xs\"" items=regular_expression_list />
								<span class="input-group-btn">
									<button class="btn btn-primary btn-xs" type="submit" >
										<i class="fa fa-search"></i>&nbsp;#i18n{directory.create_entry.manage_regular_expression.button_insert}
									</button>
								</span>
							</div>
						</form>
					</div>
				</div>
				<div class="box-body">
						<@paginationAdmin paginator=paginator combo=1 />
				    <a name="list" id="list"></a>
			      <table class="table table-hover table-condensed">
						<thead>
							<tr>
								<th>#i18n{directory.create_entry.manage_regular_expression.row_title}</th>
								<th>#i18n{directory.create_entry.manage_regular_expression.row_information_message}</th>
								<th>#i18n{directory.create_entry.manage_regular_expression.row_valid_exemple}</th>
								<th>#i18n{directory.create_entry.manage_field.row_actions}</th>
							</tr>
					</thead>
					<tbody>
						<#list list as expression>
			          	<tr>
			            	<td>${expression.title}</td>
				            <td>${expression.informationMessage}</td>
				            <td>${expression.validExemple}</td>
				            <td>
				             	<a class="btn btn-danger btn-mini" href="jsp/admin/plugins/directory/DoRemoveVerification.jsp?id_expression=${expression.idExpression}&id_field=${id_field}#list"  title="#i18n{directory.create_entry.manage_field.title_delete}" >
									<i class="fa fa-trash"></i>
								</a>
							</td>
				        </tr>
						</#list>
					</tbody>
			    </table>
			        <@paginationAdmin paginator=paginator />
				</div>
			</div>
		</div>
</div>
</#if>
