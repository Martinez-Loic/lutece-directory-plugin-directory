<#include "/admin/plugins/directory/commons.html" />

<script language="JavaScript" type="text/javascript">

	window.onload = function() 
	{
		doDisplayAdvancedSettings( false );
	}
	
</script> 
<div id="content-box-actions">	
  	<form id="button_advanced_settings" method="post" action="javascript:doDisplayAdvancedSettings(true)" style="visibility:hidden;display:none;">
		<input type="submit" value="#i18n{directory.manage_directory.button_manage_advanced_parameters}" class="button bt-toolbar" />
  	</form>	
  	<form id="button_back" method="post" action="javascript:doDisplayAdvancedSettings(false)" style="visibility:hidden;display:none;">
		<input type="submit" value="#i18n{directory.manage_directory.button_back}" class="button bt-toolbar" />
  	</form>	
</div>

<form action="jsp/admin/plugins/directory/DoModifyEntry.jsp#list" method="post" name="" id=""  >
	<div class="content-box" id="settings">
	 <h2>#i18n{directory.modify_entry.title_field} : '${entry.directory.title}'</h2>
	
	    <input name="id_entry" value="${entry.idEntry}" type="hidden" />
		<p>
	    	<label for="title">#i18n{directory.create_entry.label_title}* : </label>
	    	<input type="text" name="title" id="title" size="80" value="${entry.title}"  maxlength="255" />
	    	<br/>
			<label>&nbsp;</label>#i18n{directory.create_entry.label_title_comment}
	 	</p>
	   <p>
		     <label for="help_message">#i18n{directory.create_entry.label_help_message} : </label>
		   
		     	<textarea  name="help_message"  id="help_message" cols="80" rows="5">${entry.helpMessage}</textarea>
			
			 <br/>
			 <label>&nbsp;</label> #i18n{directory.create_entry.label_help_message_comment}
		</p>
		<p>
		     <label for="help_message_search">#i18n{directory.create_entry.label_help_message_search} : </label>
		   		<textarea  name="help_message_search"  id="help_message_search" cols="80" rows="5">${entry.helpMessageSearch}</textarea>
			<br/>
			 <label>&nbsp;</label> #i18n{directory.create_entry.label_help_message_search_comment}
		</p>
	    <p>
		     <label for="comment"> #i18n{directory.create_entry.label_comment} : </label>
		
		     <textarea name="comment" cols="80" rows="2">${entry.comment}</textarea>
	     </p>
	   
	    <p>
	     <label for="">#i18n{directory.create_entry.label_type} : </label>
	                #i18n{${entry.entryType.titleI18nKey}}
		</p>
		<p>
	    	<label for="is_all_search">#i18n{directory.create_entry.label_is_all_search} : </label>
	    	<#if entry.addValueAllSearch>
	    		<input type="checkbox" name="is_all_search" id="is_all_search" value="1" checked="checked" onclick="javascript:addAllSearch();" />
	    	<#else>
	   			<input type="checkbox" name="is_all_search" id="is_all_search" value="1" onclick="javascript:addAllSearch();" />
	   		</#if>
	   		<br />
	   		<label>&nbsp;</label>#i18n{directory.create_entry.label_is_all_search_comment}
	   	</p>
	   	<div id="label_value_all_search">
	   		<p>
	   			<label for="label_all_search">#i18n{directory.create_entry.label_label_all_search} : </label>
		    	<#if entry.labelValueAllSearch??>
		    		<input type="text" name="label_all_search" id="label_all_search" value="${entry.labelValueAllSearch}" size="80" maxlength="255" />
		    	<#else>
		   			<input type="text" name="label_all_search" id="label_all_search" value="" size="80" maxlength="255" />
		   		</#if>
		   	</p>
		</div>
		<p>
			<label for="mandatory">#i18n{directory.create_entry.label_mandatory} : </label>
	   		<#if entry.mandatory>
				<input name="mandatory" value="1" type="checkbox" checked="checked" >
			<#else>
				<input name="mandatory" value="1" type="checkbox" >
			</#if>	
		</p>
		<p>
			<label for="show_all_info">#i18n{directory.create_entry.label_display_all_info} :</label>
			<input type="checkbox" value="1" name="show_all_info"
				<#if entry.fields??>
					<#list entry.fields as field>
		    			<#if field.isDefaultValue(  )>
		    				checked="checked"
		    				<#break>
		    			</#if>
		    		</#list>
		    	</#if>	
			/>
			<br />
			<label>&nbsp;</label>#i18n{directory.create_entry.label_display_all_info_comment}
			<br />
			<label>&nbsp;</label>#i18n{directory.create_entry.label_display_all_info_comment_2}
		</p>
		<p>
	  		<input type="submit" value="#i18n{directory.modify_entry.button_save}" class="button"  name="save" / >
	  		<input type="submit" value="#i18n{directory.modify_entry.button_cancel}" class="button" name="cancel" />
	   	</p>
		<br/>
	</div>
 	<div id="advanced_settings" class="content-box">
		 	<h2>
				#i18n{directory.create_directory.label_advancedsettings}
			</h2>
	 	
	 		<p>
		    	<label for="indexed">#i18n{directory.create_entry.label_indexed} : </label>
		   		 <#if entry.indexed>
		   		 	<input name="indexed" value="1" type="checkbox" checked="checked" >
		   		 <#else>
		   			<input name="indexed" value="1" type="checkbox" >
		   		 </#if>	
		  	 </p>
		  	  <p>
		    	<label for="shown_in_advanced_search">#i18n{directory.create_entry.label_shown_in_advanced_search} :</label>
		   		 <#if entry.shownInAdvancedSearch>
		   		 	<input name="shown_in_advanced_search" value="1" type="checkbox" checked="checked">
		   		 <#else>
		   		 	<input name="shown_in_advanced_search" value="1" type="checkbox" >
		   		 
		   		 </#if>	
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_advanced_search_comment}
			 </p>
			 <p>
	            <label for="indexed_as_title">#i18n{directory.create_entry.label_indexed_as_title} : </label>
	            <input name="indexed_as_title" value="1" type="checkbox" <#if entry.indexedAsTitle>checked="checked"</#if> >
	         </p>
	         <p>
	            <label for="indexed_as_summary">#i18n{directory.create_entry.label_indexed_as_summary} : </label>
	            <input name="indexed_as_summary" value="1" type="checkbox" <#if entry.indexedAsSummary>checked="checked"</#if> >
	         </p>
	         <p>
		    	<label for="shown_in_result_list">#i18n{directory.create_entry.label_shown_in_result_list} :</label>
		   		  <#if entry.shownInResultList>
		   		 	<input name="shown_in_result_list" value="1" type="checkbox" checked="checked">
		   		  <#else>
		   		 		<input name="shown_in_result_list" value="1" type="checkbox" >
		   		  
		   		  </#if>	
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_result_list_comment}
			 </p>
		   	 <p>
		    	 <label for="shown_in_result_record">#i18n{directory.create_entry.label_shown_in_result_record} :</label>
		   			<#if entry.shownInResultRecord>
		   			 	<input name="shown_in_result_record" value="1" type="checkbox" checked="checked">
		   			  <#else>
		   			  	<input name="shown_in_result_record" value="1" type="checkbox">
		   			  </#if>	
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_result_record_comment}
			 </p>
		   <p>
		    	 <label for="shown_in_history">#i18n{directory.create_entry.label_shown_in_history} :</label>
		   			<#if entry.shownInHistory>
		   			 	<input name="shown_in_history" value="1" type="checkbox" checked="checked">
		   			  <#else>
		   			  	<input name="shown_in_history" value="1" type="checkbox">
		   			  </#if>	
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_history_comment}
			 </p>
			 <p>
		    	<label for="shown_in_export">#i18n{directory.create_entry.label_shown_in_export} :</label>
		    	<#if entry.shownInExport>
		   			<input name="shown_in_export" value="1" type="checkbox" checked="checked" />
		   		<#else>
		   			<input name="shown_in_export" value="1" type="checkbox" />
		   		</#if>
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_export_comment}
			</p>
			<p>
		    	<label for="shown_in_completeness">#i18n{directory.create_entry.label_shown_in_completeness} :</label>
		    	<#if entry.shownInCompleteness>
		   			<input name="shown_in_completeness" value="1" type="checkbox" checked="checked" />
		   		<#else>
		   			<input name="shown_in_completeness" value="1" type="checkbox" />
		   		</#if>
		   		<br/>
			 	<label>&nbsp;</label> #i18n{directory.create_entry.label_shown_in_completeness_comment}
			</p>
			<div class="alert">
				 #i18n{directory.message.warning.entry_advanced_parameters_save}
			</div>
		</div>
		
</form>

<script type="text/javascript">
	function addAllSearch()
	{
 		var inputAllSearch = document.getElementById("is_all_search");
 		if(inputAllSearch.checked)
 		{
 			document.getElementById("label_value_all_search").style.display = "block";
 		}
 		else
 		{
 			document.getElementById("label_value_all_search").style.display = "none";
 		}
 	}
 	
	addAllSearch();
</script>